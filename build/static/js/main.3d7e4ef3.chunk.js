(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{25:function(e,n,t){},45:function(e,n,t){"use strict";t.r(n);var a=t(1),c=t.n(a),r=t(19),u=t.n(r),o=(t(25),t(20)),i=t(10),s=t(3),d=t(0),l=function(e){var n=e.newSearch,t=e.handleSearchChange;return Object(d.jsxs)("div",{children:["filter shown with: ",Object(d.jsx)("input",{value:n,onChange:t,autoComplete:"none"})]})},j=function(e){var n=e.persons,t=e.newSearch,a=e.handleDelete;return Object(d.jsx)("div",{children:n.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})).map((function(e){return Object(d.jsxs)("p",{children:[e.name,": ",e.number,Object(d.jsx)("button",{"data-id":e.id,"data-name":e.name,onClick:a,children:"Delete"})]},e.name)}))})},b=function(e){var n=e.addnewName,t=e.newName,a=e.newNumber,c=e.handlenNameChange,r=e.handlenNumberChange;return Object(d.jsx)("div",{children:Object(d.jsxs)("form",{onSubmit:n,children:[Object(d.jsxs)("div",{children:["name: ",Object(d.jsx)("input",{value:t,onChange:c,autoComplete:"none"}),Object(d.jsx)("br",{}),"number: ",Object(d.jsx)("input",{value:a,onChange:r,autoComplete:"none"})]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{type:"submit",children:"add"})})]})})},h=function(e){var n=e.classname,t=e.message;return null===t?null:Object(d.jsx)("div",{className:n,children:t})},m=t(5),f=t.n(m),O="/api/persons",p=function(){var e=Object(a.useState)([]),n=Object(s.a)(e,2),t=n[0],c=n[1],r=Object(a.useState)(""),u=Object(s.a)(r,2),m=u[0],p=u[1],x=Object(a.useState)(""),g=Object(s.a)(x,2),v=g[0],w=g[1],C=Object(a.useState)(""),S=Object(s.a)(C,2),N=S[0],k=S[1],D=Object(a.useState)(null),F=Object(s.a)(D,2),y=F[0],L=F[1],T=Object(a.useState)(null),P=Object(s.a)(T,2),A=P[0],B=P[1];Object(a.useEffect)((function(){f.a.get(O).then((function(e){return e.data})).then((function(e){c(e)}))}),[]);return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("h2",{children:"Phonebook"}),Object(d.jsx)(h,{classname:"success",message:y}),Object(d.jsx)(h,{classname:"error",message:A}),Object(d.jsx)("h3",{children:"Filter"}),Object(d.jsx)(l,{newSearch:N,handleSearchChange:function(e){k(e.target.value)}}),Object(d.jsx)("h3",{children:"Add new"}),Object(d.jsx)(b,{addnewName:function(e){e.preventDefault();var n,a,r={name:m,number:v};if(t.some((function(e){return e.name===r.name}))){if(window.confirm("".concat(r.name," is already added, replace the number?"))){var u=t.find((function(e){return e.name===r.name})),s=Object(i.a)(Object(i.a)({},u),{},{number:v});(n=u.id,a=s,f.a.put("".concat(O,"/").concat(n),a).then((function(e){return e.data}))).then((function(e){c(t.map((function(n){return n.id!==u.id?n:e})))})).catch((function(e){B("".concat(s.name," was deleted from the phonebook")),setTimeout((function(){B(null)}),5e3),c(t.filter((function(e){return e.name!==s.name})))})),p(""),w("")}}else(function(e){return f.a.post(O,e).then((function(e){return e.data}))})(r).then((function(e){c([].concat(Object(o.a)(t),[e])),p(""),w(""),L("".concat(r.name," was successfully added")),setTimeout((function(){L(null)}),5e3)}))},newName:m,newNumber:v,handlenNameChange:function(e){p(e.target.value)},handlenNumberChange:function(e){w(e.target.value)}}),Object(d.jsx)("h3",{children:"Numbers"}),Object(d.jsx)(j,{persons:t,newSearch:N,handleDelete:function(e){var n;window.confirm("Deseas borrar a ".concat(e.target.dataset.name))&&(n=e.target.dataset.id,f.a.delete("".concat(O,"/").concat(n)).then((function(e){return e.data})),c(t.filter((function(n){return n.name!==e.target.dataset.name}))))}})]})},x=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,46)).then((function(n){var t=n.getCLS,a=n.getFID,c=n.getFCP,r=n.getLCP,u=n.getTTFB;t(e),a(e),c(e),r(e),u(e)}))};u.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(p,{})}),document.getElementById("root")),x()}},[[45,1,2]]]);
//# sourceMappingURL=main.3d7e4ef3.chunk.js.map